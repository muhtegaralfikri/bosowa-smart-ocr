datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum DocType {
  INVOICE
  SURAT_RESMI
  SURAT_JALAN
  LAINNYA
}

enum DocStatus {
  PENDING
  VERIFIED
  REJECTED
}

model Document {
  id        String    @id @default(uuid())
  fileName  String    @map("file_name") @db.VarChar(255)
  filePath  String    @map("file_path") @db.VarChar(255)
  mimeType  String    @map("mime_type") @db.VarChar(191)
  type      DocType   @default(LAINNYA)
  status    DocStatus @default(PENDING)
  invoiceNo String?   @map("invoice_no") @db.VarChar(191)
  letterNo  String?   @map("letter_no") @db.VarChar(191)
  docDate   DateTime? @map("doc_date")
  sender    String?   @db.VarChar(191)
  amount    Decimal?
  rawOcr    Json?     @map("raw_ocr")
  createdAt DateTime  @default(now()) @map("created_at")
  updatedAt DateTime  @updatedAt @map("updated_at")

  @@map("documents")
}

model User {
  id           String   @id @default(uuid())
  email        String   @unique @db.VarChar(191)
  passwordHash String   @map("password_hash") @db.VarChar(191)
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")

  @@map("users")
}
